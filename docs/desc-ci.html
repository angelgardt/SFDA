<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>6&nbsp; Доверительные интервалы – SFDA | PSY HSE</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./infer-stattesting.html" rel="next">
<link href="./desc-normdist.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-bd1857aa17bea7e4e4b424b4ddf2d210.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Ничего не найдено",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Очистить",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Отмена",
    "search-submit-button-title": "Отправить",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./desc-centraltend.html">Описательная статистика</a></li><li class="breadcrumb-item"><a href="./desc-ci.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Доверительные интервалы</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">SFDA | PSY HSE</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Начало</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Введение в&nbsp;статистику</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Основания статистики</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro-randvals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Шкалы и&nbsp;случайные величины</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Описательная статистика</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./desc-centraltend.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Меры центральной тенденции</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./desc-variation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Меры разброса</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./desc-normdist.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Нормальное распределение</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./desc-ci.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Доверительные интервалы</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Статистика вывода</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./infer-stattesting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Тестирование статистических гипотез</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./infer-correlation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Корреляционный анализ</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Содержание</h2>
   
  <ul>
  <li><a href="#точечные-и-интервальные-оценки" id="toc-точечные-и-интервальные-оценки" class="nav-link active" data-scroll-target="#точечные-и-интервальные-оценки"><span class="header-section-number">6.1</span> Точечные и интервальные оценки</a></li>
  <li><a href="#ci-clt" id="toc-ci-clt" class="nav-link" data-scroll-target="#ci-clt"><span class="header-section-number">6.2</span> Центральная предельная теорема</a></li>
  <li><a href="#ci-se" id="toc-ci-se" class="nav-link" data-scroll-target="#ci-se"><span class="header-section-number">6.3</span> Стандартная ошибка среднего</a></li>
  <li><a href="#ci-ci" id="toc-ci-ci" class="nav-link" data-scroll-target="#ci-ci"><span class="header-section-number">6.4</span> Доверительные интервалы</a>
  <ul class="collapse">
  <li><a href="#ci-interp" id="toc-ci-interp" class="nav-link" data-scroll-target="#ci-interp"><span class="header-section-number">6.4.1</span> Интерпретация границ доверительного интервала</a></li>
  <li><a href="#ci-meancomp" id="toc-ci-meancomp" class="nav-link" data-scroll-target="#ci-meancomp"><span class="header-section-number">6.4.2</span> Доверительный интервал и сравнение средних</a></li>
  <li><a href="#ci-sd-n" id="toc-ci-sd-n" class="nav-link" data-scroll-target="#ci-sd-n"><span class="header-section-number">6.4.3</span> Связь доверительного интервала с разбросом и объемом выборки</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./desc-centraltend.html">Описательная статистика</a></li><li class="breadcrumb-item"><a href="./desc-ci.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Доверительные интервалы</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="desc-ci" class="quarto-section-identifier"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Доверительные интервалы</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="точечные-и-интервальные-оценки" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="точечные-и-интервальные-оценки"><span class="header-section-number">6.1</span> Точечные и интервальные оценки</h2>
<p>До&nbsp;этого момента мы работали только с&nbsp;<strong>точечными оценками</strong>&nbsp;— это оценки, представляющие собой одно число. Например, таковы меры центральной тенденции&nbsp;— медиана, среднее арифметическое&nbsp;— или&nbsp;меры разброса&nbsp;— межквартильный размах, дисперсия, стандартное отклонение. Когда мы рассчитываем каждый из&nbsp;этих показателей мы получаем только одно число.</p>
<p>Однако поскольку мы имеет дело со&nbsp;статистическими данными, основные свойства которых это <em>неопределенность</em> и <em>вариативность</em>, нам необходимы, помимо точечных оценок, ещё и&nbsp;интервальные оценки.</p>
<p>Напомним кратко себе, что</p>
<ul>
<li><strong>Неопределенность</strong> статистических данных означает, что мы никогда не&nbsp;знаем, что&nbsp;мы получим в&nbsp;результате данного конкретного измерения.
<ul>
<li>во-первых, потому что&nbsp;мы работаем со&nbsp;случайными величинами,</li>
<li>во-вторых, потому что&nbsp;наши измерительные инструменты не&nbsp;идеальны и&nbsp;всегда содержат ошибку измерения.</li>
</ul></li>
<li><strong>Вариативность</strong> статистических данных говорит нам о&nbsp;том, что&nbsp;наши измерения всегда обладают некоторым разбросом.
<ul>
<li>во-первых, потому что объекты нашего изучения&nbsp;— люди&nbsp;— разные,</li>
<li>во-вторых, потому наши измерительные инструменты всё ещё не&nbsp;идеальны и&nbsp;всегда содержат ошибку измерения.</li>
</ul></li>
</ul>
<p>Таким образом, мы не&nbsp;можем быть до&nbsp;конца уверены, что&nbsp;мы получили суперточную оценку изучаемых нами параметров. Даже если мы пользуемся достаточно точными измерительными инструментами, собираем большие выборки и&nbsp;вообще делаем всё, чтобы быть максимально точными и&nbsp;объективными. Возникает необходимость найти какие-то способы выражения нашей неуверенности в&nbsp;точечной оценки параметра генеральной совокупности. Это и&nbsp;есть интервальные оценки&nbsp;— по&nbsp;сути, меры нашей неуверенности.</p>
<p>Чтобы к&nbsp;ним подойти, нам придется познакомиться с&nbsp;одной важной статистической теоремой.</p>
</section>
<section id="ci-clt" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="ci-clt"><span class="header-section-number">6.2</span> Центральная предельная теорема</h2>
<p>Для&nbsp;построения интервальных оценок параметров используют центральную предельную теорему. Сформулировать её можно так.</p>
<div id="thm-clt" class="theorem">
<p><span class="theorem-title"><strong>Теорема 6.1</strong></span> <strong>Центральная предельная теорема (ЦПТ).</strong> Cумма достаточно большого количества слабо зависимых одинаково распределенных случайных величин имеет распределение, близкое к&nbsp;нормальному.</p>
</div>
<p>Однако нас будет интересовать не&nbsp;столько сама теорема, сколько одно из&nbsp;её следствий.</p>
<div id="cor-clt-mean" class="theorem corollary">
<p><span class="theorem-title"><strong>Следствие 6.1</strong></span> Если <span class="math inline">\(X_1, \, X_2, \, \ldots, X_n\)</span>&nbsp;— независимые одинаково распределённые случайные величины со&nbsp;средним <span class="math inline">\(\mu\)</span> и&nbsp;дисперсией <span class="math inline">\(\sigma^2\)</span>, то&nbsp;при увеличении их&nbsp;числа распределение средних этих случайных величин имеет распределение, близкое к&nbsp;нормальному со&nbsp;средним <span class="math inline">\(\mu\)</span> и&nbsp;дисперсией <span class="math inline">\(\dfrac{\sigma^2}{n}\)</span> (стандартным отклонением <span class="math inline">\(\dfrac{\sigma}{\sqrt{n}}\)</span>):</p>
<p><span class="math display">\[
X_i \overset{\text{i.i.d}}{\thicksim} (\mu, \sigma^2) \Rightarrow \overline X_i \overset{d}{\to} \mathcal{N} \bigg( \mu, \frac{\sigma^2}{n} \bigg)
\]</span></p>
</div>
<p>Формулировка следствия довольно сложна. Давайте подумаем, чем она соответствует в&nbsp;области исследовательской практики.</p>
<ul>
<li>Когда мы проводим исследование, мы извлекаем выборку из&nbsp;генеральной совокупности.</li>
<li>На&nbsp;этой выборке мы измеряем какую-либо переменную <span class="math inline">\(X\)</span>.</li>
<li>Пусть на&nbsp;этой выборке мы получили случайную величину <span class="math inline">\(X_1\)</span>, измерив интересующая нас переменную.</li>
<li>Повторив исследование несколько раз&nbsp;— допустим, <span class="math inline">\(n\)</span>&nbsp;— на&nbsp;других выборках из&nbsp;той же генеральной совокупности, мы получим случайные величины <span class="math inline">\(X_2,\, X_3,\, \ldots X_n\)</span>.</li>
<li>Поскольку все выборки приходили из&nbsp;одной и&nbsp;той&nbsp;же генеральной совокупности, распределения всех случайных величин будут иметь одни и&nbsp;те&nbsp;же параметры&nbsp;— то есть наши случайные величины будут одинаково распределены.</li>
<li>Так как выборки извлекались отдельно для&nbsp;каждого исследования, получившиеся случайные величины оказываются независимы.</li>
</ul>
<p>Таким образом, [следствие] <strong>ЦПТ рассматривает поведение распределения выборочных средних при&nbsp;многократном повторении исследования</strong>. По&nbsp;сути, это та&nbsp;же ситуация, которую мы рассматривали при&nbsp;обсуждении <a href="./desc-variation.html#variation-estim-features">несмещённости точечных оценок</a>.</p>
<p>Итак, пусть есть некоторая случайная величина <span class="math inline">\(X\)</span>, распределение которой в&nbsp;генеральной совокупности асимметрично. Случай асимметричного распределения удобен для&nbsp;рассмотрения, поскольку эффект, описываемый ЦПТ можно увидеть более наглядно. Допустим, выглядит это как-то так:</p>
<div id="fig-pop-dist" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pop-dist-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="desc-ci_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pop-dist-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Рисунок&nbsp;6.1: Распределение случайной величины в&nbsp;генеральной совокупности
</figcaption>
</figure>
</div>
<p>Откуда мы знаем, что&nbsp;случайная величина распределена так? Ниоткуда. В&nbsp;рамках симуляции, которой мы сейчас будем заниматься мы просто рассматриваем такой случай. Разумеется, в&nbsp;реальной ситуации мы может сделать только <em>допущение</em> о&nbsp;распределении величины генеральной совокупности&nbsp;— как она распределена на&nbsp;самом деле мы никогда не узнаем.</p>
<p>Понятно, что&nbsp;это распределение будет обладать неким средним и&nbsp;некоторым стандартным отклонением&nbsp;— в&nbsp;нашем случае значения будут такими:</p>
<div id="tbl-pop-params" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-pop-params-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Таблица&nbsp;6.1: Параметры распределения случайной величины в&nbsp;генеральной совокупности
</figcaption>
<div aria-describedby="tbl-pop-params-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">Параметр распределения</th>
<th style="text-align: right;">Значение</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Среднее</td>
<td style="text-align: right;">0.4</td>
</tr>
<tr class="even">
<td style="text-align: left;">Стандартное отклонение</td>
<td style="text-align: right;">0.2</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Чтобы&nbsp;максимально точно приблизиться к&nbsp;оценке нашего параметра&nbsp;— будем оценивать среднее генеральной совокупности&nbsp;— нам надо извлечь много больших выборок из&nbsp;нашей генеральной совокупности. Ну, допустим мы извлекаем 1000 выборок по&nbsp;50 наблюдений. Можно и&nbsp;больше, но&nbsp;давайте посмотрим пока, что&nbsp;будет на&nbsp;таких значениях.</p>
<p>Посмотрим на&nbsp;распределения нашей переменной в&nbsp;нескольких из&nbsp;выборок:</p>
<div id="fig-pop-samples" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pop-samples-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="desc-ci_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pop-samples-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Рисунок&nbsp;6.2: Распределения случайной величины в&nbsp;первых двадцати выборках
</figcaption>
</figure>
</div>
<p>Вот распределения в&nbsp;первых двадцати выборках. На&nbsp;что здесь стоит обратить внимание?</p>
<p>От&nbsp;выборки к&nbsp;выборки распределения, безусловно, отличаются. Причем достаточно сильно&nbsp;— где-то распределение больше похоже на&nbsp;нормальное, где-то оно более асимметричное, где-то менее, где-то вообще напоминает равномерное. Это мы в&nbsp;живую увидели вариативность и&nbsp;неопределенность.</p>
<p>Каждая из&nbsp;выборок характеризуется каким-то своим средним и&nbsp;каким-то своим разбросом (<a href="#tbl-sample-desc" class="quarto-xref">Таблица&nbsp;<span>6.2</span></a>).</p>
<div id="tbl-sample-desc" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-sample-desc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Таблица&nbsp;6.2: Выборочные средние и стандарные отклонения первых двадцати выборок
</figcaption>
<div aria-describedby="tbl-sample-desc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Sample</th>
<th style="text-align: right;">Mean</th>
<th style="text-align: right;">SD</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">V1</td>
<td style="text-align: right;">0.37</td>
<td style="text-align: right;">0.18</td>
</tr>
<tr class="even">
<td style="text-align: left;">V2</td>
<td style="text-align: right;">0.35</td>
<td style="text-align: right;">0.22</td>
</tr>
<tr class="odd">
<td style="text-align: left;">V3</td>
<td style="text-align: right;">0.40</td>
<td style="text-align: right;">0.20</td>
</tr>
<tr class="even">
<td style="text-align: left;">V4</td>
<td style="text-align: right;">0.40</td>
<td style="text-align: right;">0.21</td>
</tr>
<tr class="odd">
<td style="text-align: left;">V5</td>
<td style="text-align: right;">0.42</td>
<td style="text-align: right;">0.22</td>
</tr>
<tr class="even">
<td style="text-align: left;">V6</td>
<td style="text-align: right;">0.35</td>
<td style="text-align: right;">0.20</td>
</tr>
<tr class="odd">
<td style="text-align: left;">V7</td>
<td style="text-align: right;">0.38</td>
<td style="text-align: right;">0.15</td>
</tr>
<tr class="even">
<td style="text-align: left;">V8</td>
<td style="text-align: right;">0.36</td>
<td style="text-align: right;">0.23</td>
</tr>
<tr class="odd">
<td style="text-align: left;">V9</td>
<td style="text-align: right;">0.45</td>
<td style="text-align: right;">0.21</td>
</tr>
<tr class="even">
<td style="text-align: left;">V10</td>
<td style="text-align: right;">0.34</td>
<td style="text-align: right;">0.20</td>
</tr>
<tr class="odd">
<td style="text-align: left;">V11</td>
<td style="text-align: right;">0.40</td>
<td style="text-align: right;">0.20</td>
</tr>
<tr class="even">
<td style="text-align: left;">V12</td>
<td style="text-align: right;">0.38</td>
<td style="text-align: right;">0.22</td>
</tr>
<tr class="odd">
<td style="text-align: left;">V13</td>
<td style="text-align: right;">0.39</td>
<td style="text-align: right;">0.19</td>
</tr>
<tr class="even">
<td style="text-align: left;">V14</td>
<td style="text-align: right;">0.35</td>
<td style="text-align: right;">0.19</td>
</tr>
<tr class="odd">
<td style="text-align: left;">V15</td>
<td style="text-align: right;">0.42</td>
<td style="text-align: right;">0.22</td>
</tr>
<tr class="even">
<td style="text-align: left;">V16</td>
<td style="text-align: right;">0.44</td>
<td style="text-align: right;">0.22</td>
</tr>
<tr class="odd">
<td style="text-align: left;">V17</td>
<td style="text-align: right;">0.33</td>
<td style="text-align: right;">0.21</td>
</tr>
<tr class="even">
<td style="text-align: left;">V18</td>
<td style="text-align: right;">0.43</td>
<td style="text-align: right;">0.23</td>
</tr>
<tr class="odd">
<td style="text-align: left;">V19</td>
<td style="text-align: right;">0.39</td>
<td style="text-align: right;">0.20</td>
</tr>
<tr class="even">
<td style="text-align: left;">V20</td>
<td style="text-align: right;">0.39</td>
<td style="text-align: right;">0.20</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</figure>
</div>
<p>Видим, что&nbsp;есть некоторая вариативность выборочных средних. Но&nbsp;раз у&nbsp;нас есть 1000 выборок&nbsp;— а&nbsp;значит и&nbsp;1000 средних&nbsp;— мы можем построить распределение выборочных средних (<a href="#fig-samplemean-dist" class="quarto-xref">Рисунок&nbsp;<span>6.3</span></a>).</p>
<div id="fig-samplemean-dist" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-samplemean-dist-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="desc-ci_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-samplemean-dist-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Рисунок&nbsp;6.3: Распределение выборочных средних
</figcaption>
</figure>
</div>
<p>Мы получили распределение выборочных средних значений, которое очень похоже на&nbsp;нормальное&nbsp;— эмпирическое распределение отображено с&nbsp;помощью гистограммы, а&nbsp;ожидаемое теоретическое с&nbsp;помощью чёрной линии. Вот об&nbsp;этом и&nbsp;говорит центральная предельная теорема.</p>
<p>Более того, если мы посчитаем среднее и&nbsp;стандартное отклонение данного распределения, мы получим следующее (<a href="#tbl-means-params" class="quarto-xref">Таблица&nbsp;<span>6.3</span></a>).</p>
<div id="tbl-means-params" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-means-params-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Таблица&nbsp;6.3: Параметры распределения выборочных средних
</figcaption>
<div aria-describedby="tbl-means-params-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">Параметры</th>
<th style="text-align: right;">Значение</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Среднее (M)</td>
<td style="text-align: right;">0.4</td>
</tr>
<tr class="even">
<td style="text-align: left;">Стандартное отклонение (SD)</td>
<td style="text-align: right;">0.03</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Также нужно обратить внимание еще на две важные детали:</p>
<ul>
<li>чем большее количество выборок мы наберем, тем&nbsp;ближе распределение будет к&nbsp;нормальному и&nbsp;тем более точную оценку среднего мы получим</li>
<li>чем большее количество наблюдений будет в&nbsp;отдельной выборке, тем ближе распределение будет к&nbsp;нормальному и&nbsp;тем более точную оценку среднего мы получим</li>
</ul>
<p><a href="https://gallery.shinyapps.io/CLT_mean/">Здесь</a> можно посмотреть динамическую симуляцию, изучить роль количества выборок и&nbsp;количества наблюдений в&nbsp;формировании итогового распределения средних.</p>
<div class="callout callout-style-simple callout-note no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>Итак, независимо от&nbsp;того, какое распределение переменной есть в&nbsp;генеральной совокупности, при&nbsp;извлечении достаточно большого количества выборок достаточно большого объема мы можем получить очень точную оценку среднего генеральной совокупности, а&nbsp;распределение выборочных средних будет стремиться к&nbsp;нормальному.</p>
</div>
</div>
</div>
</section>
<section id="ci-se" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="ci-se"><span class="header-section-number">6.3</span> Стандартная ошибка среднего</h2>
<p>Собственно, а&nbsp;зачем нам это надо было?</p>
<p>Посмотрим на&nbsp;стандартное отклонение выборочных средних (<a href="#fig-se" class="quarto-xref">Рисунок&nbsp;<span>6.4</span></a>).</p>
<div id="fig-se" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-se-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="desc-ci_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-se-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Рисунок&nbsp;6.4: Стандартная ошибка среднего. Точечная линия&nbsp;— среднее выборочных средних, пунктирные линии&nbsp;— плюс-минус одно стандартное отклонение.
</figcaption>
</figure>
</div>
<p>Поскольку ЦПТ обеспечила нам возможность пользоваться свойствами нормального распределения, то&nbsp;в&nbsp;пределах одного стандартного отклонения от&nbsp;среднего средних будет лежать 68.2% выборочных средних (<a href="desc-normdist.html#fig-normdist-probs" class="quarto-xref">Рисунок&nbsp;<span>5.3</span></a>&nbsp;и <a href="desc-normdist.html#eq-normdist-probs" class="quarto-xref">Уравнение&nbsp;<span>5.1</span></a>). Таким образом, мы получаем диапазон, в&nbsp;пределах которого лежат наиболее часто встречающиеся выборочные средние, а&nbsp;значит это может служить интервальной оценкой нашего параметра&nbsp;— он называется <em>стандартной ошибкой среднего</em>.</p>
<div id="def-se" class="theorem definition">
<p><span class="theorem-title"><strong>Определение 6.1</strong></span> <strong>Стандартная ошибка среднего</strong> (<span class="math inline">\(\text{se}\)</span>)&nbsp;— стандартное отклонение распределения выборочных средних.</p>
</div>
<p>Теперь задумаемся о&nbsp;следующем: чтобы получить стандартную ошибку, мы сгенерировали 1000 выборок, однако в&nbsp;рамках отдельного исследования мы работаем только с&nbsp;одной выборкой&nbsp;— значит&nbsp;ли это, что&nbsp;мы не сможем посчитать стандартную ошибку, чтобы&nbsp;получить интервальную оценку среднего?</p>
<p>Нет. Рассчитать стандартную ошибку среднего можно и&nbsp;по&nbsp;одной выборке вот так:</p>
<p><span id="eq-se"><span class="math display">\[
\text{se}_X = \frac{s_X}{\sqrt{n}},
\tag{6.1}\]</span></span></p>
<p>где&nbsp;<span class="math inline">\(s_X\)</span>&nbsp;— это выборочное стандартное отклонение, а&nbsp;<span class="math inline">\(n\)</span>&nbsp;— количество наблюдений в&nbsp;данной выборке.</p>
<p>Формула, прямо скажем, не&nbsp;то&nbsp;чтобы очень интуитивна, однако вам придется мне поверить, что&nbsp;она верна.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Я недоверчив(а)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Для&nbsp;того, чтобы доказать формулу, нам понадобятся два утверждения. С&nbsp;одним мы хорошо знакомы (<a href="desc-variation.html#prp-var2" class="quarto-xref">Утверждение&nbsp;<span>4.2</span></a>):</p>
<p><span class="math display">\[
D_{X \times c} = D_X \times c^2
\]</span></p>
<p>Второе утверждение говорит нам, чему равна дисперсия суммы случайных величин&nbsp;— тут вам точно придется мне просто поверить, иначе эта глава никогда не&nbsp;закончится:</p>
<p><span class="math display">\[
D_{X + Y} = D_X + D_Y + 2 \text{cov}_{X,Y},
\]</span></p>
<p><span class="math inline">\(\text{cov}_{X,Y}\)</span>&nbsp;— это ковариация двух случайных величин, мера их&nbsp;взаимной изменчивости. Мы будем обсуждать её в&nbsp;курсе позже, сейчас она для&nbsp;нас не&nbsp;столь существенна.</p>
<p>Так как мы предполагает, что выборки мы набирали независимо и&nbsp;из&nbsp;одной и&nbsp;той&nbsp;же генеральной совокупности, то&nbsp;величины в&nbsp;каждой из&nbsp;выборок независимы и&nbsp;[теоретически] одинаково распределены (independent identically distributed, i.i.d.) (для&nbsp;упрощения жизни здесь рассмотрено нормальное распределение):</p>
<p><span class="math display">\[
X_i \overset{\text{i.i.d.}}{\thicksim} \mathcal{N} (\mu, \sigma^2)
\]</span></p>
<p>В&nbsp;частности, в&nbsp;силу независимости случайный величин их ковариация равна нулю. Поэтому дисперсия распределения выборочных средних&nbsp;— то есть суммы средних наших исходных случайных величин <span class="math inline">\(X_i\)</span>&nbsp;— будет определяться так:</p>
<p><span class="math display">\[
\begin{split}
D \big( \sum_{i=1}^n \frac{1}{n} X_i \big) &amp;=
D \big( \frac{1}{n} \sum_{i=1}^n X_i \big) = \\
&amp;= \frac{1}{n^2} \sum_{i=1}^n D(X_i) = \\
&amp;= \frac{1}{n^2} \sum_{i=1}^n \sigma^2 = \frac{1}{n^2} \cdot n \sigma^2 = \\
&amp; = \frac{n}{n^2} \sigma^2 = \frac{\sigma^2}{n}
\end{split}
\]</span></p>
<p>А&nbsp;значит, стандартное отклонение этого распределения&nbsp;— оно же стандартная ошибка среднего&nbsp;— будет таким:</p>
<p><span class="math display">\[
\text{se}_X = \sqrt{\frac{\sigma^2}{n}} = \frac{\sigma}{\sqrt{n}}
\]</span></p>
<p>Магия статистических допущений.</p>
</div>
</div>
</div>
<p>Стандартная ошибка используется и&nbsp;сама по&nbsp;себе как одна из&nbsp;описательных статистик. Однако также на&nbsp;её основе рассчитывается другая интервальная оценка.</p>
</section>
<section id="ci-ci" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="ci-ci"><span class="header-section-number">6.4</span> Доверительные интервалы</h2>
<p>Еще раз вспомним о&nbsp;том, что&nbsp;стандартная ошибка&nbsp;— это не&nbsp;что иное как стандартное отклонение [выборочных средних]. Также вспомним, что&nbsp;главой ранее мы определяли, с&nbsp;какой вероятностью лежит значение нашей случайной величины в&nbsp;пределах скольких-либо стандартных отклонений (<a href="desc-normdist.html#fig-normdist-probs" class="quarto-xref">Рисунок&nbsp;<span>5.3</span></a>).</p>
<p>Можем&nbsp;ли мы через стандартное отклонение выразить такой интервал, в&nbsp;котором будет лежать, скажем, 95% значений величины? Для&nbsp;определенности возьмем стандартное нормальное распределение, и&nbsp;выделим на&nbsp;нём диапазон, в&nbsp;пределах которого лежит 95% значений.</p>
<div id="fig-stnorm-95" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-stnorm-95-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="desc-ci_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-stnorm-95-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Рисунок&nbsp;6.5: Стандартное нормальное распределение. Диапазон, в&nbsp;пределах которого лежит 95% значений.
</figcaption>
</figure>
</div>
<p>Математически вычислимо, что&nbsp;границы этого интервала будут такими&nbsp;— <span class="math inline">\([-1.96, 1.96]\)</span>.</p>
<p>Окей, но&nbsp;это не&nbsp;совсем то, что&nbsp;нас интересовало. Мы хотели узнать, в&nbsp;каких пределах лежит 95% выборочных средних, если мы знаем их распределение. Воспользуемся известной нам стандартизацией (<a href="desc-normdist.html#eq-standartization" class="quarto-xref">Уравнение&nbsp;<span>5.2</span></a>)&nbsp;— вернее, её обратным преобразованием&nbsp;— и&nbsp;перейдем от&nbsp;z-значений к&nbsp;значениям произвольного распределения:</p>
<p><span class="math display">\[
x_i = z_i \cdot s_x + \overline X,
\]</span></p>
<p>где <span class="math inline">\(z_i\)</span>&nbsp;— значения стандартного нормального распределения, <span class="math inline">\(x_i\)</span>&nbsp;— значение&nbsp;нового распределения, <span class="math inline">\(\overline X\)</span>&nbsp;— среднее нового распределения, <span class="math inline">\(s_x\)</span>&nbsp;— стандартное отклонение нового распределения.</p>
<div id="fig-ci" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ci-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="desc-ci_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ci-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Рисунок&nbsp;6.6: Доверительный интервал. Точечная линия&nbsp;— среднее выборочных средних, пунктирные линии&nbsp;— доверительный интервал для&nbsp;среднего.
</figcaption>
</figure>
</div>
<p>Таким образом, мы можем перевести границы <span class="math inline">\([-1.96, 1.96]\)</span> в&nbsp;границы на&nbsp;распределении выборочных средних следующим образом:</p>
<p><span id="eq-ci"><span class="math display">\[
[\overline X - 1.96 \cdot \text{se}_x, \, \overline X + 1.96 \cdot \text{se}_x]
\tag{6.2}\]</span></span></p>
<p>В&nbsp;пределах такого интервала будет лежать 95% выборочных средних.</p>
<p>Однако на&nbsp;практике мы имеет дело только с&nbsp;одной выборкой, поэтому и&nbsp;интервал будет рассчитываться на&nbsp;основании одного выборочного среднего и&nbsp;стандартного отклонения по&nbsp;выборке. Например, если мы возьмем первую выборку из&nbsp;сгенерированных (<a href="#tbl-sample-desc" class="quarto-xref">Таблица&nbsp;<span>6.2</span></a>) и&nbsp;рассчитаем такой интервал для&nbsp;её среднего, получится:</p>
<p><span class="math display">\[
\begin{split}
&amp;[\overline X - 1.96 \cdot \text{se}_X, \, \overline X + 1.96 \cdot \text{se}_X] = \Big[ \overline X - 1.96 \cdot \frac{s_X}{\sqrt{n}}, \, \overline X + 1.96 \cdot \frac{s_X}{\sqrt{n}} \Big] = \\
&amp;= \Big[0.37 - 1.96 \cdot \frac{0.18}{\sqrt{50}}, \, 0.37 + 1.96 \cdot \frac{0.18}{\sqrt{50}} \Big] =
[0.32, \, 0.42]
\end{split}
\]</span></p>
<p>Этот интервал называется <strong>95%-ным доверительным интервалом (95% confidence interval, 95%&nbsp;CI)</strong>. Он является второй интервальной оценкой среднего и&nbsp;мерой нашей неуверенности относительно точности оценки среднего генеральной совокупности.</p>
<p>Вообще можно рассчитать любой доверительный интервал, который вам захочется, однако самые популярные варианты&nbsp;— это 90%, 95% и&nbsp;99%. Выражаются через стандартную ошибку они так:</p>
<p><span class="math display">\[
\begin{split}
90\%: &amp;\quad \overline X \pm 1.645 \cdot \text{se}_x \\
95\%: &amp;\quad \overline X \pm 1.96 \cdot \text{se}_x \\
99\%: &amp;\quad \overline X \pm 2.576 \cdot \text{se}_x
\end{split}
\]</span></p>
<p>Наиболее широко в&nbsp;социальных науках используется 95%-ный. С&nbsp;ним и&nbsp;будем работать.</p>
<section id="ci-interp" class="level3" data-number="6.4.1">
<h3 data-number="6.4.1" class="anchored" data-anchor-id="ci-interp"><span class="header-section-number">6.4.1</span> Интерпретация границ доверительного интервала</h3>
<p>Теперь еще одна непростая задача&nbsp;— понять, что&nbsp;значит этот интервал.</p>
<p>Глядя на&nbsp;график распределения выборочных средних (<a href="#fig-ci" class="quarto-xref">Рисунок&nbsp;<span>6.6</span></a>) и&nbsp;исходя из&nbsp;того, как интервал был получен, хочется сказать, что&nbsp;<em>генеральное среднее лежит в&nbsp;границах 95%-ного доверительного интервала с&nbsp;вероятностью 0.95.</em></p>
<p><strong>Но&nbsp;это не&nbsp;верно!!!</strong> Вновь необходимо вспомнить, что в&nbsp;рамках отдельного исследования мы имеем дело только с&nbsp;одной выборкой, и&nbsp;доверительный интервал, рассчитанный на&nbsp;одной выборке, это совершенно не&nbsp;то, что отображает вышеупомянутый график (<a href="#fig-ci" class="quarto-xref">Рисунок&nbsp;<span>6.6</span></a>). Он показывает логику, положенную в&nbsp;механизм расчёта интервала, однако не&nbsp;пригоден для&nbsp;его интерпретации.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Статистика в&nbsp;отдельном исследовании
</div>
</div>
<div class="callout-body-container callout-body">
<p>Отметим, что&nbsp;та статистика, которую мы изучаем&nbsp;— <strong>фреквентистская статистика</strong>&nbsp;— рассматривает любые результаты с&nbsp;точки зрения <em>принципиальной возможности бесконечно повторять проведённое исследование</em>. Соответственно, корректная&nbsp;интерпретация получаемых статистических штук будет строиться в&nbsp;долгосрочной перспективе повторения исследований.</p>
<p>Такое положение дел затрудняет интерпретацию результатов отдельного исследования и&nbsp;часто приводит к&nbsp;некорректным выводам, поэтому необходимо уделить вопросу интерпретации отдельное серьезное внимание.</p>
</div>
</div>
<p>Давайте на примере самого доверительного интервала. Корректная статистическая интерпретация звучит так:</p>
<div class="callout callout-style-simple callout-important">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>Если мы будет бесконечно извлекать новые выборки из&nbsp;генеральной совокупности, рассчитывать на&nbsp;них средние и&nbsp;95% доверительные интервалы к&nbsp;ним, то&nbsp;генеральное среднее попадёт в&nbsp;границы 95% таких доверительных интервалов.</p>
</div>
</div>
</div>
<p>То&nbsp;есть, если мы извлечем 100 выборок, посчитаем на&nbsp;каждой из&nbsp;них среднее и&nbsp;построим 95% доверительный интервал к&nbsp;каждому из&nbsp;100 средних, то&nbsp;95 доверительных интервалов из&nbsp;100 будут содержать генеральное среднее, а&nbsp;5 интервалов содержать его не&nbsp;будут.</p>
<p>В&nbsp;частности, если мы посмотрим, что происходит на&nbsp;сгенерированных ранее выборках (<a href="#fig-pop-samples" class="quarto-xref">Рисунок&nbsp;<span>6.2</span></a>), мы получим следующую картину (<a href="#fig-ci-coverage" class="quarto-xref">Рисунок&nbsp;<span>6.7</span></a>).</p>
<div id="fig-ci-coverage" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ci-coverage-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="desc-ci_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ci-coverage-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Рисунок&nbsp;6.7: Покрытие генерального среднего доверительными интервалами. Из&nbsp;1000 доверительных интервалов 966 содержат генеральной среднее, 34&nbsp;— не&nbsp;содержат.
</figcaption>
</figure>
</div>
<p>Динамическую визуализацию этого можно наблюдать <a href="https://rpsychologist.com/d3/ci/">здесь</a>.</p>
<p>Корректная статистическая интерпретация, конечно, корректная, однако трудноусваемая и&nbsp;сложноприменяемая в&nbsp;практике Попробуем сделать её более осязаемой. Есть три путя.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Самый простой, но крайне некорректный
</div>
</div>
<div class="callout-body-container callout-body">
<p>Если, ну, прям ваще никак не&nbsp;получается уложить статистическую интерпретацию, то&nbsp;можно думать о&nbsp;доверительном интервале так: «генеральное среднее, скорее всего, лежит где-то в&nbsp;этих пределах».</p>
<p>Однако в&nbsp;приличных местах об&nbsp;этом говорить никому не&nbsp;стоит. И&nbsp;даже когда соберетесь прибегнуть к&nbsp;такой интерпретации, <strong>обязательно сначала вспомните, что&nbsp;она некорректная!</strong></p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Скорректированный вариант
</div>
</div>
<div class="callout-body-container callout-body">
<p>К&nbsp;подобной интерпретации также есть некоторые вопросы, однако, по&nbsp;крайней мере, она обоснована симуляциями. Задаваться вопросом о&nbsp;вероятности попадания генерального среднего в&nbsp;конкретный рассчитанный нами здесь и&nbsp;сейчас доверительный интервал всё&nbsp;же можно. Симуляции показывают, что эта вероятность приблизительно равна <strong>84.3%</strong>. Эту величину назвали <strong>capture percentage</strong>&nbsp;— то есть отдельный 95% доверительный интервал «ловит» генеральное среднее 843 раза из&nbsp;1000.</p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Практически применимый вариант
</div>
</div>
<div class="callout-body-container callout-body">
<p>Ежели мы всё&nbsp;же посмотрим на&nbsp;<a href="#fig-ci" class="quarto-xref">Рисунок&nbsp;<span>6.6</span></a> и&nbsp;попробуем вытащить практически пригодную интерпретацию, то&nbsp;мы можем заметить, что в&nbsp;границы доверительного интервала попадают наиболее частотные, типичные значения среднего. Также необходимо вспомнить, что&nbsp;мы работаем с&nbsp;конкретными данными в&nbsp;рамках одного исследования. Исходя из&nbsp;этих двух пунктов, можно сказать, что&nbsp;границы доверительного интервала задают диапазон значений, которые <em>не противоречат</em> имеющимся у&nbsp;нас данным.</p>
<p>Эта интерпретация хорошо согласуется с&nbsp;NHST-подходом к&nbsp;тестированию статистических гипотез, о&nbsp;котором мы будем говорить далее.</p>
</div>
</div>
</section>
<section id="ci-meancomp" class="level3" data-number="6.4.2">
<h3 data-number="6.4.2" class="anchored" data-anchor-id="ci-meancomp"><span class="header-section-number">6.4.2</span> Доверительный интервал и сравнение средних</h3>
<p>Чем нам может помочь интервальная оценка при&nbsp;поиске различий между группами? Посмотрим на&nbsp;возможные ситуации. Пусть у&nbsp;нас есть средние и&nbsp;доверительные интервалы к&nbsp;ним в&nbsp;двух группах наблюдений&nbsp;— например, балл по&nbsp;шкале депрессии HADS у&nbsp;жителей Москвы и&nbsp;Петербурга.</p>
<p>Первоначально попробуем выяснить, справедливо&nbsp;ли утверждение «у&nbsp;жителей столиц нет клинически выраженной депрессии». Для&nbsp;этого необходимо, чтобы средний балл был меньше 11. Рассмотрим картину.</p>
<div id="fig-ci-value" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ci-value-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="desc-ci_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ci-value-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Рисунок&nbsp;6.8: Сравнение выборочного среднего с&nbsp;данным значением через доверительный интервал
</figcaption>
</figure>
</div>
<p>Мы наблюдаем, что в&nbsp;случае Москвы интересующее нас значение 11 не&nbsp;попадает в&nbsp;доверительный интервал, в&nbsp;то время как в&nbsp;случае Петербурга&nbsp;— попадает. Поскольку доверительный интервал отображает нашу неуверенность в&nbsp;том, что&nbsp;наше выборочное среднее отражает генеральное среднее, для&nbsp;нас все значения в&nbsp;пределах доверительного интервала <em>статистически равны</em> между собой. Или&nbsp;же можем сказать, что границы доверительного интервала обозначают значения, не&nbsp;противоречащие данным. Таким образом, так как 11 не&nbsp;попадает в 95%-ный доверительный интервал для Москвы, мы можем сказать, что&nbsp;средний уровень депрессии жителей Москвы ниже порога клинически выраженной депрессии. Про&nbsp;петербуржцев такого сказать не&nbsp;получится, так как 11 попало в&nbsp;доверительный интервал для&nbsp;Петербурга&nbsp;— а значит, средний уровень депрессии 8.5 статистически равен 11, хотя по&nbsp;абсолютному значению ниже. Иначе говоря, значение 11 не&nbsp;противоречит имеющимся данным, хотя выборочное среднее и&nbsp;не совпадает с&nbsp;ним.</p>
<div class="callout callout-style-simple callout-note no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<ul>
<li>если некоторое число попадает в&nbsp;доверительный интервал для&nbsp;выборочного среднего, то&nbsp;мы говорим, что&nbsp;среднее статистически не&nbsp;отличается от&nbsp;этого числа&nbsp;— даже если по&nbsp;абсолютным значениям разница существенна</li>
<li>если некоторое число не&nbsp;попадает в&nbsp;доверительный интервал для&nbsp;выборочного среднего, то&nbsp;мы говорим, что&nbsp;среднее статистически отличается от&nbsp;этого числа&nbsp;— и&nbsp;больше или&nbsp;меньше в&nbsp;зависимости от&nbsp;абсолютных значений</li>
</ul>
</div>
</div>
</div>
<p>Однако чаще мы сравниваем две группы между собой. Посмотрим на ситуации, которые принципиально возможны при&nbsp;сравнении средних в&nbsp;двух группах.</p>
<div id="fig-ci-groups" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ci-groups-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="desc-ci_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ci-groups-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Рисунок&nbsp;6.9: Сравнение выборочных средних в&nbsp;двух группах
</figcaption>
</figure>
</div>
<p>По&nbsp;оси <span class="math inline">\(x\)</span>&nbsp;— группы наблюдений, по&nbsp;оси <span class="math inline">\(y\)</span>&nbsp;— значение интересующей нас переменной. Видим четыре возможные ситуации:</p>
<ul>
<li>А&nbsp;— каждое среднее попадает в&nbsp;доверительный интервал другого среднего</li>
<li>B — одно среднее попадает в&nbsp;доверительный интервал другого среднего, а&nbsp;второе — не&nbsp;попадает
<ul>
<li>в&nbsp;данном случае, среднее второй группы попало в&nbsp;доверительный интервал среднего первой группы, в&nbsp;то время как&nbsp;среднее первой группы лежит за&nbsp;границами доверительного интервала среднего второй группы</li>
</ul></li>
<li>С&nbsp;— ни&nbsp;одно из&nbsp;средних не&nbsp;попало в&nbsp;доверительный интервал другого среднего
<ul>
<li>но&nbsp;есть пересечение доверительных интервалов</li>
</ul></li>
<li>D&nbsp;— доверительные интервалы не&nbsp;пересекаются, следовательно, ни&nbsp;одно из&nbsp;средних не&nbsp;попало в&nbsp;доверительный интервал другого среднего</li>
</ul>
<p>Исходя из&nbsp;рассуждений выше, можно отметить, что&nbsp;если хотя&nbsp;бы одно среднее попало в&nbsp;доверительный интервал другого&nbsp;— случаи A и&nbsp;B&nbsp;— то различий между группами нет. А&nbsp;вот если средние не&nbsp;попадают в&nbsp;доверительные интервалы друг друга&nbsp;— случаи C и&nbsp;D&nbsp;— то&nbsp;различия между группами есть.</p>
</section>
<section id="ci-sd-n" class="level3" data-number="6.4.3">
<h3 data-number="6.4.3" class="anchored" data-anchor-id="ci-sd-n"><span class="header-section-number">6.4.3</span> Связь доверительного интервала с разбросом и объемом выборки</h3>
<p>Так&nbsp;как доверительный интервал рассчитывается на&nbsp;основе стандартной ошибки (<a href="#eq-ci" class="quarto-xref">Уравнение&nbsp;<span>6.2</span></a>), которая в&nbsp;свою очередь рассчитывается на&nbsp;основе стандартного отклонения и&nbsp;числа наблюдений (<a href="#eq-se" class="quarto-xref">Уравнение&nbsp;<span>6.1</span></a>), нетрудно заметить, что:</p>
<div class="callout callout-style-simple callout-tip">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<ul>
<li>чем <strong>выше разброс</strong> в&nbsp;данных, тем будет <strong>шире доверительный интервал</strong>, так как больше стандартная ошибка</li>
<li>чем <strong>больше наблюдений</strong> в&nbsp;нашей выборке, тем будет <strong>у́же доверительный интервал</strong>,[так как меньше стандартная ошибка</li>
</ul>
</div>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Скопировано!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Скопировано!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./desc-normdist.html" class="pagination-link" aria-label="Нормальное распределение">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Нормальное распределение</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./infer-stattesting.html" class="pagination-link" aria-label="Тестирование статистических гипотез">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Тестирование статистических гипотез</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>