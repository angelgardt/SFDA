<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>4&nbsp; Меры разброса – SFDA | PSY HSE</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./desc-normdist.html" rel="next">
<link href="./desc-centraltend.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-bd1857aa17bea7e4e4b424b4ddf2d210.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Ничего не найдено",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Очистить",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Отмена",
    "search-submit-button-title": "Отправить",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./desc-centraltend.html">Описательная статистика</a></li><li class="breadcrumb-item"><a href="./desc-variation.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Меры разброса</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">SFDA | PSY HSE</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Начало</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Введение в&nbsp;статистику</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Основания статистики</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro-randvals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Шкалы и&nbsp;случайные величины</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Описательная статистика</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./desc-centraltend.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Меры центральной тенденции</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./desc-variation.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Меры разброса</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./desc-normdist.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Нормальное распределение</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./desc-ci.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Доверительные интервалы</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Статистика вывода</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./infer-stattesting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Тестирование статистических гипотез</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Содержание</h2>
   
  <ul>
  <li><a href="#variation-why" id="toc-variation-why" class="nav-link active" data-scroll-target="#variation-why"><span class="header-section-number">4.1</span> Зачем нужны меры разброса</a></li>
  <li><a href="#variation-data-features" id="toc-variation-data-features" class="nav-link" data-scroll-target="#variation-data-features"><span class="header-section-number">4.2</span> Основные характеристики статистических данных</a></li>
  <li><a href="#variation-min-max" id="toc-variation-min-max" class="nav-link" data-scroll-target="#variation-min-max"><span class="header-section-number">4.3</span> Минимум, максимум, размах</a></li>
  <li><a href="#variation-quatile" id="toc-variation-quatile" class="nav-link" data-scroll-target="#variation-quatile"><span class="header-section-number">4.4</span> Квантили</a>
  <ul class="collapse">
  <li><a href="#variation-quartile" id="toc-variation-quartile" class="nav-link" data-scroll-target="#variation-quartile"><span class="header-section-number">4.4.1</span> Квартили</a></li>
  <li><a href="#variation-decile" id="toc-variation-decile" class="nav-link" data-scroll-target="#variation-decile"><span class="header-section-number">4.4.2</span> Децили</a></li>
  <li><a href="#variation-percentile" id="toc-variation-percentile" class="nav-link" data-scroll-target="#variation-percentile"><span class="header-section-number">4.4.3</span> Перцентили</a></li>
  </ul></li>
  <li><a href="#variation-iqr" id="toc-variation-iqr" class="nav-link" data-scroll-target="#variation-iqr"><span class="header-section-number">4.5</span> Интерквартильный размах</a>
  <ul class="collapse">
  <li><a href="#variation-boxplot" id="toc-variation-boxplot" class="nav-link" data-scroll-target="#variation-boxplot"><span class="header-section-number">4.5.1</span> Визуализация квартилей. Боксплот</a></li>
  <li><a href="#variation-outliers" id="toc-variation-outliers" class="nav-link" data-scroll-target="#variation-outliers"><span class="header-section-number">4.5.2</span> Выбросы</a></li>
  </ul></li>
  <li><a href="#variation-disp" id="toc-variation-disp" class="nav-link" data-scroll-target="#variation-disp"><span class="header-section-number">4.6</span> Дисперсия</a>
  <ul class="collapse">
  <li><a href="#variation-estim-features" id="toc-variation-estim-features" class="nav-link" data-scroll-target="#variation-estim-features"><span class="header-section-number">4.6.1</span> Свойства выборочных оценок</a></li>
  <li><a href="#variation-df" id="toc-variation-df" class="nav-link" data-scroll-target="#variation-df"><span class="header-section-number">4.6.2</span> Степени свободы</a></li>
  </ul></li>
  <li><a href="#variation-sd" id="toc-variation-sd" class="nav-link" data-scroll-target="#variation-sd"><span class="header-section-number">4.7</span> Стандартное отклонение</a></li>
  <li><a href="#variation-comparison" id="toc-variation-comparison" class="nav-link" data-scroll-target="#variation-comparison"><span class="header-section-number">4.8</span> Сравнение мер разброса</a></li>
  <li><a href="#variation-disp-features" id="toc-variation-disp-features" class="nav-link" data-scroll-target="#variation-disp-features"><span class="header-section-number">4.9</span> Свойства дисперсии и&nbsp;стандартного отклонения</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./desc-centraltend.html">Описательная статистика</a></li><li class="breadcrumb-item"><a href="./desc-variation.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Меры разброса</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="desc-variation" class="quarto-section-identifier"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Меры разброса</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Итак, мы разобрались с&nbsp;мерами центральной тенденции. Однако для&nbsp;описания распределения их&nbsp;оказывается недостаточно. Почему?</p>
<section id="variation-why" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="variation-why"><span class="header-section-number">4.1</span> Зачем нужны меры разброса</h2>
<p>Посмотрим на&nbsp;несколько распределений:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="desc-variation_files/figure-html/unnamed-chunk-1-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="desc-variation_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>Методом пристального взгляда можно установить, что&nbsp;у&nbsp;всех распределений одинаковые средние:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="desc-variation_files/figure-html/unnamed-chunk-2-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="desc-variation_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>Однако мы видим, что&nbsp;значения по-разному группируются вокруг среднего. Как они группируются&nbsp;— плотно, как на&nbsp;втором рисунке, или&nbsp;не&nbsp;особо, как на&nbsp;третьем&nbsp;— можно описать с&nbsp;помощью мер разброса, или&nbsp;мер вариативности.</p>
</section>
<section id="variation-data-features" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="variation-data-features"><span class="header-section-number">4.2</span> Основные характеристики статистических данных</h2>
<p>Вообще если посмотреть на&nbsp;это более свысока, то&nbsp;необходимость описания разброса определяется тем, что&nbsp;статистические данные обладают <strong>двумя ключевыми особенностями&nbsp;— неопределенностью и&nbsp;вариативностью</strong>.</p>
<ul>
<li><strong>Неопределённость</strong> нам говорит о&nbsp;том, что&nbsp;мы не&nbsp;знаем, что&nbsp;именно мы получим в&nbsp;результате наших измерений для&nbsp;конкретной выборки. В&nbsp;том числе потому, что&nbsp;мы работаем на&nbsp;просторах случайных величин.</li>
<li><strong>Вариативность</strong> означает, что наши данные будут различаться ещё и&nbsp;от&nbsp;респондента к&nbsp;респонденту. И&nbsp;между выборками тоже. Здесь и&nbsp;ошибка измерения, и&nbsp;различные смешения и&nbsp;ещё куча всего.</li>
</ul>
<p>Более того, вариативность есть главное условие применения статики, поскольку&nbsp;она входит в&nbsp;расчёт любого статистического критерия. Если у&nbsp;переменной отсутствует вариативность, статистика на&nbsp;ней работать не&nbsp;будет.</p>
</section>
<section id="variation-min-max" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="variation-min-max"><span class="header-section-number">4.3</span> Минимум, максимум, размах</h2>
<p>Начнем с&nbsp;самого простого. Как наиболее просто описать вариативность? Мы работаем с&nbsp;выборкой, а&nbsp;в&nbsp;выборке, как&nbsp;известно, ограниченное число наблюдений. А&nbsp;если оно ограниченное, значит среди них точно есть наибольшее&nbsp;— <strong>максимум (max)</strong>&nbsp;— и&nbsp;наименьшее&nbsp;— <strong>минимум (min)</strong>.</p>
<p>Допустим, мы открыли ведомость по&nbsp;«Анатомии и&nbsp;физиологии ЦНС» некоторой академической группы и пронаблюдали следующее:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code> [1]  7  4  6  9 10  5  6  9  6  6  3  6  8  8  5 10  7  5  7  3  9  4  8  3  8
[26]  4  6  8  7  5</code></pre>
</div>
</div>
<p>Мы можем посчитать минимальное и&nbsp;максимальное значение по&nbsp;этому ряду наблюдений&nbsp;— они окажутся равны соответственно 3 и&nbsp;10. То есть оценки по&nbsp;этой дисциплине варьируются от&nbsp;3 до&nbsp;10. Ну, чу́дно.</p>
<p>Разница между максимальным и минимальным значением называется <strong>размах (range)</strong>:</p>
<p><span class="math display">\[
\text{range}(X) = \max(X) - \min(X)
\]</span></p>
<p>В&nbsp;примере выше он будет равен 7.</p>
<p>И&nbsp;вот мы преисполнившиеся сим знанием идёт описывать вариативность переменной с&nbsp;помощью размаха, но&nbsp;обнаруживаем в&nbsp;другой ведомости этой же&nbsp;группы (по&nbsp;«Введению в&nbsp;психологию») вот что:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code> [1]  6  8  4  6  7  5  7 10  4  6  7  8  7  6  8 10  8  7  7  6  8  7  6  8  6
[26]  3  8  6  6  4</code></pre>
</div>
</div>
<p>Минимум, максимум и&nbsp;размах вроде как такие&nbsp;же: 3, 10 и&nbsp;7 соответственно.</p>
<p>Значит&nbsp;ли это, что&nbsp;вариативность одинаковая? Нарисуем.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="desc-variation_files/figure-html/unnamed-chunk-5-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="desc-variation_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>Кажется, что вариативность различна. Распределение оценок по «Анатомии и физиологии ЦНС» более равномерное, в&nbsp;то время как оценки по&nbsp;«Введению в&nbsp;психологию» активнее группируются где-то в&nbsp;середине.</p>
<p>Штош, размах хоть и&nbsp;дает нам некоторую информацию о&nbsp;вариативности, нам этого маловато. Будем искать другие меры разброса.</p>
</section>
<section id="variation-quatile" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="variation-quatile"><span class="header-section-number">4.4</span> Квантили</h2>
<p>Возьмем распределение суммарного балла по&nbsp;шкале толерантности к&nbsp;неопределенности. Выглядит оно как-то так:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="desc-variation_files/figure-html/unnamed-chunk-7-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="desc-variation_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>Теперь нам понадобится определение квантиля распределения.</p>
<div id="def-quantile" class="theorem definition">
<p><span class="theorem-title"><strong>Определение 4.1</strong></span> <strong>Квантиль (quantile)</strong>&nbsp;— это значение переменной, которое не&nbsp;превышается с&nbsp;определенной вероятностью.</p>
</div>
<p>Обозначим эту вероятность <span class="math inline">\(p\)</span>. Тогда можно сказать, что&nbsp;квантиль уровня <span class="math inline">\(p\)</span>&nbsp;— это такое значение переменной, слева от&nbsp;которого лежит <span class="math inline">\(p\%\)</span> наблюдений.</p>
<p>Посмотрим на картинки.</p>
<p>Слева относительно квантиля-0.05 (<span class="math inline">\(x_{0.05}\)</span>) лежит 5% наблюдений:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="desc-variation_files/figure-html/unnamed-chunk-8-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="desc-variation_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>Слева относительно квантиля-0.68 (<span class="math inline">\(x_{0.68}\)</span>) лежит 68% наблюдений:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="desc-variation_files/figure-html/unnamed-chunk-9-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="desc-variation_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>Слева относительно квантиля-0.99 (<span class="math inline">\(x_{0.99}\)</span>) лежит 99% наблюдений:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="desc-variation_files/figure-html/unnamed-chunk-10-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="desc-variation_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>Итак, мы поняли, а&nbsp;также приняли и&nbsp;осознали, что&nbsp;такое квантиль. Неясно только, как&nbsp;он нам поможет описать вариативность данных.</p>
<section id="variation-quartile" class="level3" data-number="4.4.1">
<h3 data-number="4.4.1" class="anchored" data-anchor-id="variation-quartile"><span class="header-section-number">4.4.1</span> Квартили</h3>
<p>Для этого нам пригодятся специально обученные квантили. Оказалось достаточно удобно поделить все наблюдение на&nbsp;<em>четыре равные части</em>&nbsp;— вот так:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="desc-variation_files/figure-html/unnamed-chunk-11-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="desc-variation_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>Значения переменной, которые делят выборку на четыре равные части называются <strong>квартили (quartile)</strong>. Получается, что</p>
<ul>
<li>слева от&nbsp;первого (нижнего) квартиля (<span class="math inline">\(\text{Q1}, x_{0.25}\)</span>) лежит 25% наблюдений</li>
<li>слева от&nbsp;второго (среднего) квартиля (<span class="math inline">\(\text{Q2}, x_{0.50}\)</span>) лежит 50% наблюдений
<ul>
<li>а&nbsp;значит и&nbsp;справа 50%: получается второй квартиль делит выборку пополам&nbsp;— это медиана</li>
</ul></li>
<li>слева от&nbsp;третьего (верхнего) квартиля (<span class="math inline">\(\text{Q3}, x_{0.75}\)</span>) лежит 75% наблюдений</li>
</ul>
<p>Четвертый квартиль не&nbsp;используется, потому что является максимальным значением&nbsp;— слева от&nbsp;него лежит 100% наблюдений.</p>
<p>Кстати, можно также отметить, что&nbsp;первый квартиль&nbsp;— это медиана нижней (меньшей) половины наблюдений, а&nbsp;третий&nbsp;— медиана верней (большей) половины наблюдений.</p>
<p>Вот такая вот прикольная история.</p>
</section>
<section id="variation-decile" class="level3" data-number="4.4.2">
<h3 data-number="4.4.2" class="anchored" data-anchor-id="variation-decile"><span class="header-section-number">4.4.2</span> Децили</h3>
<p>К&nbsp;слову, делить выборку можно не&nbsp;только на&nbsp;четверти&nbsp;— можно поделить, скажем, на&nbsp;10 частей и&nbsp;получить <strong>децили</strong>. Так, слева от&nbsp;первого дециля (<span class="math inline">\(x_{0.10}\)</span>) лежит 10% наблюдений, а&nbsp;слева от&nbsp;третьего (<span class="math inline">\(x_{0.30}\)</span>)&nbsp;— 30%.</p>
<p>Децили встречаются редко (в&nbsp;основном в&nbsp;психометрике), но&nbsp;знать о&nbsp;них полезно.</p>
</section>
<section id="variation-percentile" class="level3" data-number="4.4.3">
<h3 data-number="4.4.3" class="anchored" data-anchor-id="variation-percentile"><span class="header-section-number">4.4.3</span> Перцентили</h3>
<p>Гораздо чаще встречаются <strong>перцентили</strong>&nbsp;— значения переменной, которые делят выборку на&nbsp;100 равных частей. Например, так устроен ваш рейтинг. Только стоит помнить, что в&nbsp;рейтинге отсчет ведется от&nbsp;максимального GPA, поэтому если у&nbsp;вас нулевой перцентиль (<span class="math inline">\(x_{0.00}\)</span>) по&nbsp;программе, значит выше вас в&nbsp;рейтинге никого нет. А&nbsp;если ваш перцентиль, скажем, 36-ой (<span class="math inline">\(x_{0.36}\)</span>), то&nbsp;выше вас в&nbsp;рейтинге 36% ваших однокурсников, то&nbsp;есть вы все ещё в&nbsp;первой половине рейтинга, что&nbsp;очень неплохо!</p>
</section>
</section>
<section id="variation-iqr" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="variation-iqr"><span class="header-section-number">4.5</span> Интерквартильный размах</h2>
<p>И&nbsp;— о,&nbsp;ура!&nbsp;— мы наконец-то добрались до&nbsp;того, ради чего тут собрались! Зная первый и&nbsp;третий квартили распределения, можно рассчитать <strong>интерквартильный (межквартильный) размах (interquartile range, IQR)</strong> как разницу между третьим и&nbsp;первым квартилями.</p>
<p><span class="math display">\[
\text{IQR}(X) = \text{Q3}(X) - \text{Q1}(X)
\]</span></p>
<p>Эта величина описывает интервал значений признака, в&nbsp;котором лежит 50% наблюдений. В случае с&nbsp;баллами по&nbsp;шкале толерантности к&nbsp;неопределенности он равен 24, то есть 50% срединных наблюдений лежит в&nbsp;пределах 24 единиц шкалы.</p>
<section id="variation-boxplot" class="level3" data-number="4.5.1">
<h3 data-number="4.5.1" class="anchored" data-anchor-id="variation-boxplot"><span class="header-section-number">4.5.1</span> Визуализация квартилей. Боксплот</h3>
<p>Отображать квартили на&nbsp;гистограмме, во-первых, совершенно неудобно, а&nbsp;во-вторых, не&nbsp;то&nbsp;чтобы график получается информативный. Для&nbsp;визуализации квартилей придумали специальный тип графика&nbsp;— <strong>ящик с&nbsp;усами, или&nbsp;боксплот (boxplot)</strong>.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="desc-variation_files/figure-html/unnamed-chunk-12-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="desc-variation_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>Прикольная ерунда. Научимся его читать.</p>
<ul>
<li>Значения переменной идут по&nbsp;вертикальной оси (оси ординат)<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></li>
<li>По&nbsp;горизонтальной оси (оси абсцисс) здесь ничего не&nbsp;идёт<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></li>
<li>Жирная линия посередине ящика&nbsp;— медиана (второй квартиль)</li>
<li>Нижняя граница ящика&nbsp;— первый квартиль, верхняя&nbsp;— третий</li>
<li>Границы ящика показывают нам межквартильный размах</li>
<li>Нижний ус&nbsp;— первый квартиль минус полтора межквартильных размаха</li>
<li>Верхний ус&nbsp;— третий квартиль плюс полтора межквартильных размаха</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="desc-variation_files/figure-html/unnamed-chunk-13-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="desc-variation_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Кривой ящик
</div>
</div>
<div class="callout-body-container callout-body">
<p>Ящик может быть асимметричным&nbsp;— то&nbsp;есть верхняя его часть (расстояние между медианой и&nbsp;третьим квартилем) и&nbsp;нижняя его часть (расстояние между медианой и&nbsp;первым квартилем) могут быть разными. Это нам говорит об&nbsp;асимметричности распределения. Усы также могут быть неравными, если один из&nbsp;них упирается в&nbsp;максимум / минимум&nbsp;— тоже по&nbsp;причине асимметричности распределения.</p>
</div>
</div>
<p>Ну, допустим. А что тогда точки?</p>
</section>
<section id="variation-outliers" class="level3" data-number="4.5.2">
<h3 data-number="4.5.2" class="anchored" data-anchor-id="variation-outliers"><span class="header-section-number">4.5.2</span> Выбросы</h3>
<p>Вообще справедливо было&nbsp;бы задаться вопросом, а&nbsp;зачем нам вообще усы на&nbsp;этом графике? И&nbsp;почему мы прибавляем полтора межквартильных размаха?</p>
<p>Это один из&nbsp;подходов к&nbsp;определению нехарактерных значений&nbsp;— <strong>выбросов (outliers)</strong>. При исследовании данных мы часто задаемся вопросом, есть&nbsp;ли в&nbsp;наших данных такие значения, которые сильно отличаются от&nbsp;распределения той или&nbsp;иной переменной. Но&nbsp;как определить это самое «сильно»?</p>
<p>Вот один из&nbsp;подходов. Будем считать, что&nbsp;значения, которые укладываются в&nbsp;интервал <span class="math inline">\((\text{Q1} - 1.5 \times \text{IQR}, \text{Q3} + 1.5 \times \text{IQR})\)</span>, нас устраивают. Всё что&nbsp;попадает в&nbsp;этот интервал&nbsp;— это «нормальные», типичные значения нашей переменной. Те&nbsp;же, которые будут находиться за&nbsp;пределами этого интервала, мы назовём нетипичными, аномальными значениями, или&nbsp;выбросами. Эти значения и&nbsp;будут отмечены точками на&nbsp;графике.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Что делать с&nbsp;выбросами?
</div>
</div>
<div class="callout-body-container callout-body">
<p>Во-первых, содержательно анализировать. Выбросы могут возникнуть по&nbsp;разным причинам. Может быть испытуемый отвлекся на&nbsp;прилетевшего в&nbsp;окно голубя, и&nbsp;у&nbsp;нас в&nbsp;данных появилось время реакции 200 секунд. Такие выбросы мы можем исключить из&nbsp;данных.</p>
<p>А&nbsp;возможно в&nbsp;нашу выборку попали какие-то люди, которые, скажем, очень сильно или&nbsp;очень слабо толерантны к&nbsp;неопределенности. Эти наблюдения не&nbsp;являются «ошибками», и&nbsp;их необходимо дополнительно проанализировать&nbsp;— возможно, это представители каких-либо специфических групп нашей генеральной совокупности. Анализ принесет нам дополнительную информацию, которую мы могли не&nbsp;учесть при&nbsp;планировании исследования. Крч, думать надо. И&nbsp;собирать побольше данных, чтобы можно было найти содержательную интерпретацию происходящему.</p>
</div>
</div>
</section>
</section>
<section id="variation-disp" class="level2" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="variation-disp"><span class="header-section-number">4.6</span> Дисперсия</h2>
<p>Хотя описание разброса переменных с&nbsp;помощью квантилей (в&nbsp;частности, квартилей) может дать нам много полезной информации, все&nbsp;же у&nbsp;них есть существенный недостаток: <em>они никак не&nbsp;взаимодействуют с&nbsp;самими значениями нашей переменной</em>.</p>
<p>Действительно, мы делим нашу отсортированную выборку на&nbsp;равные части, и&nbsp;смотрим, что&nbsp;в&nbsp;эти части попало. Но&nbsp;хотелось&nbsp;бы как-то учесть ещё и&nbsp;сами значения переменной в&nbsp;некоторой числовой мере разброса.</p>
<p>Ну,&nbsp;хорошо. Поступим следующим образом. Мы все ещё хотим узнать, как&nbsp;наши значения группируются вокруг среднего. В&nbsp;предыдущей главе мы уже видели, что&nbsp;наши наблюдения отклоняются от&nbsp;среднего значения&nbsp;— значит мы можем посчитать отклонение для&nbsp;каждого наблюдения (<span class="math inline">\(d\)</span>&nbsp;— от&nbsp;лат. <em>вумшфешщт</em> или англ. <em>deviation</em>):</p>
<p><span class="math display">\[
d_i = \overline X - x_i
\]</span></p>
<p>Окей. Если мы сложим все отклонения и&nbsp;поделим получившуюся сумму на&nbsp;их количество, равное количеству наблюдений (<span class="math inline">\(n\)</span>), то получим среднее отклонение, да?</p>
<p>В&nbsp;принципе, да:</p>
<p><span class="math display">\[
\overline d =
\frac{1}{n} \sum_{i=1}^n d_i =
\frac{1}{n} \sum_{i=1}^n (\overline X - x_i)
\]</span></p>
<p>Однако есть одна проблема. В&nbsp;прошлой главе мы выяснили, что&nbsp;сумма отклонений от&nbsp;среднего равна нулю (<a href="desc-centraltend.html#prp-mean3" class="quarto-xref">Утверждение&nbsp;<span>3.3</span></a>), а&nbsp;значит и&nbsp;cреднее отклонение также будет равно нулю.</p>
<p>Хорошо. Но&nbsp;отрицательные значения ведь можно победить! Есть два пути:</p>
<ul>
<li><strong>Модуль.</strong> Преимущество первого в&nbsp;том, что&nbsp;размерность величины разброса остается той&nbsp;же, что&nbsp;и&nbsp;у&nbsp;измеряемой переменной.</li>
<li><strong>Квадрат.</strong> Преимущество второго в&nbsp;том, что&nbsp;квадрат обладает более хорошими аналитическими свойствами, чем модуль, а&nbsp;ещё сильные отклонения будут оказывать более сильное влияние на&nbsp;окончательное значение статистики (см. заметку <span class="quarto-unresolved-ref">?nte-abs-sq</span>).</li>
</ul>
<p>Второй путь на&nbsp;практике оказывается полезнее, так&nbsp;как мы хотим, чтобы&nbsp;сильно отличающиеся наблюдения вносили больший вклад в&nbsp;меру разброса.</p>
<p>Возведя отклонения в&nbsp;квадрат, получим формулу <strong>дисперсии (вариации, variation)</strong>:</p>
<p><span id="eq-pop-var"><span class="math display">\[
D(X) = \text{var}(X) = \sigma^2_X =
\frac{1}{n} \sum_{i=1}^n d_i^2 =
\frac{1}{n} \sum_{i=1}^n (\overline X - x_i)^2
\tag{4.1}\]</span></span></p>
<p>Гениально.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Почему квадрат лучше модуля?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Рассмотрим два простейших примера. Пусть у&nbsp;нас есть два нехитрых ряда наблюдений:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5 6</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1  2  3  4  5 20</code></pre>
</div>
</div>
<p>Как несложно заметить, они отличаются друг от&nbsp;друга всего лишь одним наблюдением&nbsp;— в&nbsp;первом случае существенных отклонений нет, а&nbsp;во втором есть одно наблюдений, значительно отклоняющееся от всех остальных.</p>
<p>Попробуем посчитать разброс, используя модуль — формула будет такова:</p>
<p><span class="math display">\[
\text{MAD} = \frac{1}{n} \sum_{i=1}^n |d| = \frac{1}{n} \sum_{i=1}^n |\overline X - x_i|
\]</span></p>
<p>Эта статистика называется <em>среднее абсолютное отклонение (mean absolute deviation, MAD)</em>.</p>
<p>Для&nbsp;первого ряда наблюдений получим <strong>1.5</strong>, для&nbsp;второго&nbsp;— <strong>4.72</strong>.</p>
<p>Значения разброса, безусловно, различаются, однако не&nbsp;то чтобы очень значительно.</p>
<p>Теперь воспользуется формулой дисперсии:</p>
<p><span class="math display">\[
\text{var}(X) = \frac{1}{n} \sum_{i=1}^n d^2 = \frac{1}{n} \sum_{i=1}^n (\overline X - x_i)^2
\]</span></p>
<p>Для&nbsp;первого ряда наблюдений получим <strong>2.92</strong>, для&nbsp;второго&nbsp;— <strong>41.81</strong>.</p>
<p>В&nbsp;этой случае значения различаются уже гораздо сильнее&nbsp;— на&nbsp;целый порядок.</p>
<p>Отметим, что&nbsp;и в&nbsp;случае отклонений в&nbsp;меньшую от&nbsp;среднего сторону формулы не&nbsp;перестают работать. Возьмём такие ряды наблюдений:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15 16 17 18 19 20</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  5 16 17 18 19 20</code></pre>
</div>
</div>
<p>Расчёты мер разброса для них представлены ниже.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: center;">MAD (модуль)</th>
<th style="text-align: center;">Дисперсия (квадрат)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Первый ряд</td>
<td style="text-align: center;">1.5</td>
<td style="text-align: center;">2.92</td>
</tr>
<tr class="even">
<td style="text-align: center;">Второй ряд</td>
<td style="text-align: center;">3.61</td>
<td style="text-align: center;">25.14</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Но&nbsp;не&nbsp;совсем. Формула, которую мы получили, пригодна для&nbsp;расчета <em>дисперсии генеральной совокупности</em>&nbsp;— на&nbsp;выборке&nbsp;же она будет давать неточную оценку.</p>
<p>Чтобы получить точную (несмещенную) <em>оценку дисперсии по&nbsp;выборке</em>, нам нужно исправить знаменатель дроби&nbsp;— вместо <span class="math inline">\(n\)</span> использовать <span class="math inline">\(n - 1\)</span>:</p>
<p><span id="eq-sample-var"><span class="math display">\[
s^2_X = \hat \sigma^2_X =
\frac{1}{n-1} \sum_{i=1}^n d^2 =
\frac{1}{n-1} \sum_{i=1}^n (\overline X - x_i)^2
\tag{4.2}\]</span></span></p>
<p>Но почему?</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Обозначения параметров и&nbsp;их выборочных оценок
</div>
</div>
<div class="callout-body-container callout-body">
<p>Обратим внимание на&nbsp;используемые обозначения.</p>
<ul>
<li>Для&nbsp;обозначения <strong>параметров генеральной совокупности</strong> используются греческие буквы, поэтому <em>дисперсия генеральной совокупности</em> обозначена как <span class="math inline">\(\sigma^2\)</span>.</li>
<li>Для обозначения <strong>оценок параметров, полученных на&nbsp;выборке</strong> используются соответствующие греческим латинские буквы, поэтому <em>выборочная дисперсия</em> обозначена как <span class="math inline">\(s^2\)</span>.</li>
</ul>
<p>Также для&nbsp;обозначения выборочных оценок может быть использована «шляпка», которая надевается на&nbsp;обозначение параметра — в&nbsp;случае дисперсии это выглядит как <span class="math inline">\(\hat \sigma^2\)</span>.</p>
</div>
</div>
<section id="variation-estim-features" class="level3" data-number="4.6.1">
<h3 data-number="4.6.1" class="anchored" data-anchor-id="variation-estim-features"><span class="header-section-number">4.6.1</span> Свойства выборочных оценок</h3>
<p>Во всём виновата выборка. В&nbsp;первой главе мы говорили, что&nbsp;в&nbsp;ходе исследования мы собираем выборку, чтобы&nbsp;по&nbsp;результатам её изучения сделать вывод о&nbsp;генеральной совокупности (см. <a href="intro-intro.html#fig-sampling-inference" class="quarto-xref">Рисунок&nbsp;<span>1.1</span></a>). Иначе говоря, мы заинтересованы в&nbsp;получение максимально точных выборочных оценок параметров генеральной совокупности.</p>
<p>Однако ввиду <em>неопределенности и вариативности</em> данных мы неизбежно будем ошибаться, то&nbsp;есть значение любой выборочной оценки будет отличаться от&nbsp;значения параметра генеральной совокупности. Что&nbsp;же делать?</p>
<p>Необходимо предъявить определённые требования к&nbsp;оценке параметра, для&nbsp;того чтобы она считалась «хорошей», «правильной», «корректной». Таких требований всего существует три&nbsp;— <em>несмещённость</em>, <em>состоятельность</em> и&nbsp;<em>эффективность</em>&nbsp;— из&nbsp;которых мы познакомимся только с&nbsp;первым, так&nbsp;как оно имеет непосредственное отношение к&nbsp;оценке дисперсии.</p>
<p><strong>Несмещённость</strong> выражает следующую идею:</p>
<blockquote class="blockquote">
<p>пусть мы будем ошибаться в&nbsp;оценке параметра на отдельной выборке, <br> однако мы не&nbsp;должны ошибаться <em>в&nbsp;среднем</em>, постоянно используя один и&nbsp;тот&nbsp;же способ оценки.</p>
</blockquote>
<p>Иначе говоря, да, мы ошибёмся на&nbsp;конкретной выборке, но&nbsp;если выборок будет много, то,&nbsp;усреднив оценки по&nbsp;всем выборкам, мы будем попадать ровно в&nbsp;значение параметра генеральной совокупности.</p>
<p>Под&nbsp;эту идею существует математические обоснование, которое мы не&nbsp;будем рассматривать&nbsp;— лучше поглядим на картинки. Начнём с&nbsp;чего-то хорошо нам знакомого&nbsp;— например, среднего. Ведь у&nbsp;среднего была только одна формула, как мы помним. Почему?</p>
<p>Сделаем симуляцию. Пусть известно, что&nbsp;среднее некоторой переменной в&nbsp;генеральной совокупности равно <span class="math inline">\(10\)</span>, а&nbsp;дисперсия — <span class="math inline">\(25\)</span>. Для&nbsp;определенности можете считать, допустим, что&nbsp;это время реакции на&nbsp;некоторым тип стимулов, хотя это не&nbsp;важно — излагаемая логика будет работать для&nbsp;любых переменных.</p>
<p>Извлечём из&nbsp;этой генеральной совокупности 1000 выборок по&nbsp;50 наблюдений. На&nbsp;каждой из&nbsp;выборок мы посчитаем среднее и&nbsp;получим что-то такое:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  [1] 10.172018 10.732041  8.730498 10.194034  9.957397 11.247254 10.010271
  [8]  9.627500  9.671977 11.386532 10.134469  9.442532  9.185977  9.317582
 [15] 11.061941  9.996794  9.968616 10.967281 10.501165  9.306908 10.856482
 [22] 10.342924  9.923969  9.884275  9.378945 10.595663  9.176307 10.221581
 [29]  9.845554 11.084339 11.081289  9.273581 11.066268  9.824072  9.932142
 [36] 10.378406  9.720336 10.931505 10.204910 10.523979 10.026035  8.789679
 [43]  9.092949  9.578313 10.009071  8.952169  9.915419 10.814884  8.891549
 [50] 10.727858  9.983400 11.077476  9.836667  9.013348  9.554866 10.293186
 [57]  9.965728 10.509745  9.465434 11.490972  9.557135  9.903944  8.850641
 [64]  9.606149 10.591157  9.796804 10.559390  9.952048  9.636643 10.415579
 [71]  9.865853 10.813721  9.592410 10.231220  9.197716  8.303104 10.712915
 [78] 10.012025 11.149892 10.335617  9.631661  9.538324  9.846021  9.732227
 [85]  9.298658 10.578616  9.415370 10.171959 10.417826  9.027612 11.310096
 [92]  9.307295 10.651196  9.946036  9.604827  9.725039  9.605681  9.861112
 [99]  9.588404  9.525222</code></pre>
</div>
</div>
<p>Здесь представлено только 100 первых значений выборочных средних, так как выводить все довольно громоздко. Наблюдаем, что от&nbsp;выборки к&nbsp;выборки среднее меняется, но&nbsp;все они плюс-минус находятся около 10&nbsp;— значения параметра генеральной совокупности.</p>
<p>Мы можем усреднить полученные значения, то есть посчитать <em>среднее средних</em>. Отобразим его на <em>распределении выборочных средних</em>, добавив на&nbsp;график значение параметра генеральной совокупности:</p>
<div id="fig-unbias-mean" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-unbias-mean-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="desc-variation_files/figure-html/unnamed-chunk-17-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11" title="Рисунок&nbsp;4.1: Несмещённость среднего арифметического как оценки среднего генеральной совокупности"><img src="desc-variation_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-unbias-mean-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Рисунок&nbsp;4.1: Несмещённость среднего арифметического как оценки среднего генеральной совокупности
</figcaption>
</figure>
</div>
<p>На рисунке красная сплошная линия&nbsp;— значение параметра генеральной совокупности, черная пунктирная&nbsp;— среднее выборочных средних. Видно, что линии [практически] совпадают. Значит, при&nbsp;использовании среднего арифметического в&nbsp;качестве выборочной оценки генерального среднего мы <em>в&nbsp;среднем</em> не&nbsp;ошибаемся. Это и&nbsp;есть несмещённость.</p>
<p>Теперь рассмотрим ситуацию с&nbsp;дисперсией. Итак, у&nbsp;нас есть два способа оценки дисперсии по выборке&nbsp;— <a href="#eq-pop-var" class="quarto-xref">Уравнение&nbsp;<span>4.1</span></a> и <a href="#eq-sample-var" class="quarto-xref">Уравнение&nbsp;<span>4.2</span></a>. Возьмём те&nbsp;же 1000 выборок по&nbsp;50 наблюдений и&nbsp;посчитаем для&nbsp;каждой выборке её дисперси двумя способами&nbsp;— по&nbsp;формуле выборочной дисперсии и&nbsp;по&nbsp;формуле дисперсии генеральной совокупности. Получим такие значения:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>         [,1]     [,2]     [,3]     [,4]     [,5]     [,6]     [,7]     [,8]
[1,] 21.43088 20.49587 24.46954 21.66786 22.43881 22.28620 26.59727 27.83184
[2,] 21.00226 20.08595 23.98015 21.23450 21.99003 21.84047 26.06533 27.27521
         [,9]    [,10]    [,11]    [,12]    [,13]    [,14]    [,15]    [,16]
[1,] 26.37401 21.56579 20.00768 24.25818 26.16181 27.23231 28.71230 22.23534
[2,] 25.84653 21.13447 19.60752 23.77301 25.63857 26.68766 28.13805 21.79063
        [,17]    [,18]    [,19]    [,20]    [,21]    [,22]    [,23]    [,24]
[1,] 26.46129 28.90916 26.89292 24.96440 32.85149 21.96123 26.79094 23.48350
[2,] 25.93206 28.33098 26.35506 24.46511 32.19446 21.52201 26.25512 23.01383
        [,25]    [,26]    [,27]    [,28]    [,29]    [,30]    [,31]    [,32]
[1,] 25.25271 17.49122 27.39924 23.96021 23.82035 24.51674 16.59327 21.68536
[2,] 24.74766 17.14140 26.85126 23.48100 23.34395 24.02641 16.26140 21.25166
        [,33]    [,34]    [,35]    [,36]    [,37]    [,38]    [,39]    [,40]
[1,] 32.32796 27.61211 31.96177 20.94532 22.33992 31.91699 34.97936 24.66116
[2,] 31.68140 27.05986 31.32254 20.52641 21.89312 31.27865 34.27977 24.16794
        [,41]    [,42]    [,43]    [,44]    [,45]    [,46]    [,47]    [,48]
[1,] 20.07405 18.86281 18.75675 19.10307 23.59617 18.90775 21.90138 29.39349
[2,] 19.67257 18.48555 18.38161 18.72101 23.12425 18.52960 21.46335 28.80562
        [,49]    [,50]    [,51]    [,52]    [,53]    [,54]    [,55]    [,56]
[1,] 26.02598 22.21602 26.12363 21.29367 28.51742 25.34852 23.22511 21.56059
[2,] 25.50546 21.77170 25.60115 20.86779 27.94707 24.84155 22.76061 21.12938
        [,57]    [,58]    [,59]    [,60]    [,61]    [,62]    [,63]    [,64]
[1,] 28.56293 23.55512 24.66227 34.95235 28.57192 30.27220 16.84703 21.14235
[2,] 27.99167 23.08402 24.16903 34.25331 28.00048 29.66675 16.51009 20.71950
        [,65]    [,66]    [,67]    [,68]    [,69]    [,70]    [,71]    [,72]
[1,] 29.56573 28.62074 20.61853 15.24286 24.56120 30.57612 29.65539 28.62259
[2,] 28.97442 28.04833 20.20616 14.93800 24.06997 29.96459 29.06228 28.05014
       [,73]   [,74]    [,75]    [,76]    [,77]    [,78]    [,79]    [,80]
[1,] 30.5701 17.0702 16.56888 21.85629 20.59761 21.46445 24.19590 36.10662
[2,] 29.9587 16.7288 16.23751 21.41917 20.18566 21.03516 23.71199 35.38449
        [,81]    [,82]    [,83]    [,84]    [,85]    [,86]    [,87]    [,88]
[1,] 33.96684 27.40384 16.72593 14.25868 20.21827 31.23118 25.26411 33.85720
[2,] 33.28751 26.85577 16.39141 13.97350 19.81390 30.60655 24.75883 33.18005
        [,89]    [,90]    [,91]    [,92]    [,93]    [,94]    [,95]    [,96]
[1,] 29.27159 20.44659 24.65205 24.70663 28.30399 18.50158 25.47180 23.12485
[2,] 28.68615 20.03766 24.15901 24.21249 27.73791 18.13155 24.96236 22.66235
        [,97]    [,98]    [,99]   [,100]
[1,] 15.32872 29.48873 24.24794 38.14298
[2,] 15.02215 28.89896 23.76298 37.38012</code></pre>
</div>
</div>
<p>Вновь взглянем на&nbsp;первую сотню пар значений: в&nbsp;первой строке расчёты по формуле выборочной дисперсии, во&nbsp;второй — по&nbsp;формуле дисперсии генеральной совокупности. Заметим, что&nbsp;значения в&nbsp;первой строке всегда больше, чем значения во&nbsp;второй. Оно и&nbsp;понятно&nbsp;— так устроены формулы. При этом числа в&nbsp;обеих строках вновь плюс-минус собираются около 25&nbsp;— значения параметра генеральной совокупности.</p>
<p>Изобразим картину для&nbsp;большей наглядности:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="desc-variation_files/figure-html/unnamed-chunk-19-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img src="desc-variation_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>Красной сплошной линией здесь вновь отображен параметр генеральной совокупности. Несложно пронаблюдать, что&nbsp;среднее выборочных дисперсий&nbsp;— чёрная пунктирная линия&nbsp;— [практически] совпадает с&nbsp;красной. Следовательно, <em>формула дисперсии для&nbsp;выборки действительно даёт несмещённую оценку</em>. Теперь обратим внимание на&nbsp;синюю пунктирную линию&nbsp;— среднее оценок дисперсии по формуле для&nbsp;генеральной совокупности. Она <em>не&nbsp;совпадает с&nbsp;красной</em>. Более того, если мы посмотрим на&nbsp;распределение&nbsp;— синяя сплошная линия&nbsp;— то&nbsp;заметим, что&nbsp;оно сдвинуто в&nbsp;сторону относительно чёрного распределения. Это нам говорит о&nbsp;том, что формула для&nbsp;генерального среднего систематически промахивается, что&nbsp;и является выражением смещённости оценки.</p>
<p>Таким образом, при&nbsp;оценке дисперсии по выборке используется <a href="#eq-sample-var" class="quarto-xref">Уравнение&nbsp;<span>4.2</span></a>, поскольку именно оно даёт несмещённую оценку параметра генеральной совокупности.</p>
</section>
<section id="variation-df" class="level3" data-number="4.6.2">
<h3 data-number="4.6.2" class="anchored" data-anchor-id="variation-df"><span class="header-section-number">4.6.2</span> Степени свободы</h3>
<p>Число <span class="math inline">\(n-1\)</span> в&nbsp;<a href="#eq-sample-var" class="quarto-xref"><span>4.2</span></a> называется <em>количеством степеней свободы</em>. Это довольно мутное понятие, которое при&nbsp;этом непозволительно часто встречается в&nbsp;статистике. Попытаемся к&nbsp;нему хотя&nbsp;бы интуитивно подойти.</p>
<p>Сразу возникает разумный вопрос: почему <span class="math inline">\(n-1\)</span>? Почему не&nbsp;<span class="math inline">\(n-2\)</span> или&nbsp;<span class="math inline">\(n+6\)</span>?</p>
<p>Это число с&nbsp;неизбежностью появляется в&nbsp;расчетах при&nbsp;математическом способе исследования несмещённости оценки дисперсии. Как говорилось выше, в&nbsp;математику мы здесь нырять не&nbsp;будем, однако можно помыслить обоснование следующим образом.</p>
<p>Взглянем на&nbsp;формулу дисперсии: в&nbsp;неё входит среднее арифметическое. То&nbsp;есть для&nbsp;того, чтобы&nbsp;рассчитать дисперсию на&nbsp;выборке, сначала нам&nbsp;необходимо на&nbsp;этой&nbsp;же выборке рассчитать среднее. Мы получаем часть информации о&nbsp;выборке, тем самым как&nbsp;бы «фиксируя» её этим средним значением.</p>
<p>В&nbsp;каком смысле «фиксируя»? Рассчитанное среднее могло получиться многими способами&nbsp;— разные значения наблюдений могли сложиться в&nbsp;одно и&nbsp;то&nbsp;же среднее. До&nbsp;расчета среднего число свободно варьирующихся наблюдений в&nbsp;выборке было <span class="math inline">\(n\)</span>, то&nbsp;есть все имеющиеся значения. Однако когда среднее стало известно, возможность варьирования уменьшилась. Теперь свободно варьирующихся наблюдений стало <span class="math inline">\(n-1\)</span>, так&nbsp;как при&nbsp;известном среднем произвольно могут измениться все наблюдения, кроме одного&nbsp;— всегда можно будет его вычислить, зная выборочное среднее и&nbsp;все предыдущие.</p>
<p>Иначе говоря, теперь одно из&nbsp;наблюдений не&nbsp;является случайным, а&nbsp;значит не&nbsp;участвует в&nbsp;формировании дисперсии выборки. По&nbsp;этой причине оно исключается из&nbsp;расчетов, и&nbsp;в&nbsp;формуле дисперсии появляется <span class="math inline">\(n-1\)</span>.</p>
<p>О&nbsp;степенях свободы можно думать ещё и&nbsp;так: для&nbsp;расчета дисперсии мы посчитали одну статистику&nbsp;— среднее арифметическое, значит из&nbsp;числа наблюдений надо вычесть единицу. В&nbsp;общем-то это то&nbsp;же, что&nbsp;и излагалось выше, только в&nbsp;предельно укороченном варианте.</p>
<p>Впрочем, это не&nbsp;так далеко от&nbsp;истины&nbsp;— позже мы стокнемся со&nbsp;случаями, когда для&nbsp;расчета мер изменчивости необходимо будет рассчитывать две, три и&nbsp;более статистик, и&nbsp;тогда количество степеней свободы будет соответственно <span class="math inline">\(n-2\)</span>, <span class="math inline">\(n-3\)</span> и&nbsp;<span class="math inline">\(n-p\)</span>.</p>
</section>
</section>
<section id="variation-sd" class="level2" data-number="4.7">
<h2 data-number="4.7" class="anchored" data-anchor-id="variation-sd"><span class="header-section-number">4.7</span> Стандартное отклонение</h2>
<p>И&nbsp;вот мы получили невероятное! У&nbsp;нас есть формула расчета меры разброса, которая позволяет учесть каждое значение переменной! Ну,&nbsp;не&nbsp;чудо&nbsp;ли!</p>
<p>Чудо, конечно. Однако есть некоторая проблема. Мы возводили отклонения в&nbsp;квадрат. Представим, что&nbsp;мы хотим посчитать дисперсию роста студентов психфака. Пусть мы измеряли рост в&nbsp;метрах. Отклонения тоже будут в&nbsp;метрах, так&nbsp;как среднее&nbsp;— это тоже метры, а&nbsp;если из&nbsp;метров вычитать метры, то&nbsp;мы получим метры. При&nbsp;возведении&nbsp;же метров в&nbsp;квадрат получаются метры в&nbsp;квадрате. Очевидно, что&nbsp;если мы поделим квадратные метры на&nbsp;некоторое число, они все еще останутся метрами в&nbsp;квадрате.</p>
<p>Мы знаем, что&nbsp;в квадратных метрах измеряется, например, площадь, однако едва&nbsp;ли можно говорить о&nbsp;разбросе роста как о&nbsp;площади. Что-то тут нелогичное получается. К&nbsp;тому же, если мы возьмем не&nbsp;рост, а скажем, время реакции, то его дисперсия будет измеряться в&nbsp;квадратных секундах. Это уже вовсе за&nbsp;рамками всевозможных приличий…</p>
<p>А счастье было так близко, так возможно! Неужели мы не&nbsp;сможем интерпретировать эту меру разброса? Не&nbsp;сможем даже нарисовать?</p>
<p>Да, но&nbsp;это не&nbsp;очень большая беда. Для&nbsp;того, чтобы вернуться к&nbsp;исходным единицам измерения нашей переменной, нам всего лишь нужно извлечь корень из&nbsp;дисперсии:</p>
<p><span class="math display">\[
\sigma_X = \sqrt{\sigma^2_X} =
\sqrt{\frac{1}{n} \sum_{i=1}^n d^2} =
\sqrt{\frac{1}{n} \sum_{i=1}^n (\overline X - x_i)^2}
\]</span></p>
<p>Мы получили величину, называемую <strong>стандартным (средним квадратичным<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>) отклонением (standard deviation)</strong>.</p>
<p>Чем она хороша? Тем, что&nbsp;её размерность совпадает с&nbsp;размерностью нашей переменной. Стандартное отклонение уже может быть достаточно интерпретабельно и&nbsp;хорошо визуализируемо.</p>
<p>Кстати, формула выше&nbsp;— это <em>стандартное отклонение генеральной совокупности</em>, потому&nbsp;что под корнем стоит дисперсия генеральной совокупности.</p>
<p>Чтобы посчитать <strong>стандартное отклонение по&nbsp;выборке</strong>, нам надо извлечь корень из&nbsp;выборочной дисперсии:</p>
<p><span class="math display">\[
s_X = \sqrt{s^2_X} = \sqrt{\frac{1}{n-1} \sum_{i=1}^n d^2} = \sqrt{\frac{1}{n-1} \sum_{i=1}^n(\overline X - x_i)^2}
\]</span></p>
</section>
<section id="variation-comparison" class="level2" data-number="4.8">
<h2 data-number="4.8" class="anchored" data-anchor-id="variation-comparison"><span class="header-section-number">4.8</span> Сравнение мер разброса</h2>
<p>Как и&nbsp;разные меры центральной тенденции, разные меры разброса по-своему хороши. Более того, они «дружат» с&nbsp;мерами центральной тенденции. Так, <em>с&nbsp;медианой обычно используется межквартильный размах</em>, а&nbsp;<em>со&nbsp;средним арифметическим&nbsp;— стандартное отклонение</em>.</p>
<p>Размах подходит для&nbsp;всего сразу. Его стоит рассчитать, чтобы&nbsp;составить самое первое представление о&nbsp;разбросе, о&nbsp;границах изменения изучаемого признака [на&nbsp;нашей выборке].</p>
<p>Стоит также отметить, что все, что&nbsp;мы тут обсуждали, совершенно не&nbsp;годится для&nbsp;номинативных переменных. Однако у&nbsp;них тоже есть вариативность. Согласитесь, что выборка из&nbsp;Питера, Москвы, и&nbsp;Казани более вариативна, чем&nbsp;выборка из&nbsp;Москвы. Аналогом меры разброса для&nbsp;номинальной переменной можно назвать количество уникальных значений этой переменной.</p>
</section>
<section id="variation-disp-features" class="level2" data-number="4.9">
<h2 data-number="4.9" class="anchored" data-anchor-id="variation-disp-features"><span class="header-section-number">4.9</span> Свойства дисперсии и&nbsp;стандартного отклонения</h2>
<p>Мы рассмотрим два свойства дисперсии и&nbsp;два свойства стандартного отклонения, непосредственно следующих из&nbsp;свойств дисперсии.</p>
<div id="prp-var1" class="theorem proposition">
<p><span class="theorem-title"><strong>Утверждение 4.1</strong></span> Если к&nbsp;каждому значению распределения прибавить некоторое число (константу), то&nbsp;дисперсия распределения не&nbsp;изменится.</p>
<p><span class="math display">\[
D_{X+c} = D_X
\]</span></p>
</div>
<div class="proof">
<p><span class="proof-title"><em>Доказательство</em>. </span><span class="math display">\[
\begin{split}
D_{X+c} &amp;=\frac{1}{n} \sum_{i=1}^n \big( (\overline X + c) - (x_i + c) \big)^2 = \\
&amp;= \frac{1}{n} \sum_{i=1}^n (\overline X + c - x_i - c)^2 = \\
&amp;= \frac{1}{n} \sum_{i=1}^n (\overline X - x_i)^2 = D_X
\end{split}
\]</span></p>
</div>
<div id="cor-sd1" class="theorem corollary">
<p><span class="theorem-title"><strong>Следствие 4.1</strong></span> Если к&nbsp;каждому значению распределения прибавить некоторое число (константу), то&nbsp;стандартное отклонение не&nbsp;изменится.</p>
<p><span class="math display">\[
\sigma_{X+c} = \sigma_X
\]</span></p>
</div>
<div class="proof">
<p><span class="proof-title"><em>Доказательство</em>. </span><span class="math display">\[
\sigma_{X+c} = \sqrt{\sigma^2_{X+c}} = \sqrt{D_{X+c}} = \sqrt{D_X} = \sqrt{\sigma^2_X} = \sigma_X
\]</span></p>
</div>
<div id="prp-var2" class="theorem proposition">
<p><span class="theorem-title"><strong>Утверждение 4.2</strong></span> Если каждое значение распределения умножить на&nbsp;некоторое число (константу), то&nbsp;дисперсия изменится в&nbsp;<span class="math inline">\(c^2\)</span> раз.</p>
<p><span class="math display">\[
D_{X \times c} = D_X \times c^2
\]</span></p>
</div>
<div class="proof">
<p><span class="proof-title"><em>Доказательство</em>. </span><span class="math display">\[
\begin{split}
D_{X \times c} &amp;=\frac{1}{n} \sum_{i=1}^n \big( (\overline X \times c) - (x_i \times c) \big)^2 = \\
&amp;= \frac{1}{n} \sum_{i=1}^n c^2 \times (\overline X - x_i)^2 = \\
&amp;= c^2 \times \frac{1}{n} \sum_{i=1}^n (\overline X - x_i)^2 = \\
&amp;= c^2 \times D_X
\end{split}
\]</span></p>
</div>
<div id="cor-sd2" class="theorem corollary">
<p><span class="theorem-title"><strong>Следствие 4.2</strong></span> Если каждое значение распределения умножить на&nbsp;некоторое число (константу), то&nbsp;стандартное отклонение изменится во&nbsp;столько же раз.</p>
<p><span class="math display">\[
\sigma_{X \times c} = \sigma_X \times c
\]</span></p>
</div>
<div class="proof">
<p><span class="proof-title"><em>Доказательство</em>. </span><span class="math display">\[
\sigma_{X \times c} = \sqrt{\sigma^2_{X \times c}} = \sqrt{D_{X \times c}} = \sqrt{c^2 \times D_X} = c \times \sqrt{D_X} = c \times \sqrt{\sigma^2_X} = c \times \sigma_X
\]</span></p>
</div>
<p>Проиллюстрировать свойства дисперсии довольно трудно, поскольку на&nbsp;графиках её отобразить весьма проблематично, однако для&nbsp;стандартного отклонения картинки нарисовать можно. Собственно, мы их уже видели, когда обсуждали свойства среднего арифметического (см.&nbsp;<a href="desc-centraltend.html#prp-mean1" class="quarto-xref">Утверждение&nbsp;<span>3.1</span></a> и <a href="desc-centraltend.html#prp-mean2" class="quarto-xref">Утверждение&nbsp;<span>3.2</span></a>).</p>
<p>Для&nbsp;следствия <a href="#cor-sd1" class="quarto-xref"><span>4.1</span></a> визуализация будет такой:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="desc-variation_files/figure-html/sd_feature_1-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="desc-variation_files/figure-html/sd_feature_1-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>Как мы уже видели, распределение просто сдвигается на&nbsp;константу. Если к&nbsp;каждому значению синего распределения прибавить <span class="math inline">\(2\)</span>, получится красное — разброс у&nbsp;обоих распределений одинаковый.</p>
<p>Для следствия <a href="#cor-sd2" class="quarto-xref"><span>4.2</span></a> визуализация выглядит так:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="desc-variation_files/figure-html/sd_feature_2-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14"><img src="desc-variation_files/figure-html/sd_feature_2-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>Здесь каждое значение синего распределения умножили на&nbsp;<span class="math inline">\(3\)</span> и получили красное&nbsp;— разброс также увеличился в&nbsp;три раза, поэтому распределение более плоское.</p>


</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Обычно это так, хотя не&nbsp;обязательно&nbsp;— иногда боксплоты рисуют горизонтально, если это лучше отображает закономерности.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Но&nbsp;если мы рисуем несколько боксплотов рядом, то&nbsp;на&nbsp;оси <span class="math inline">\(x\)</span> будет категориальная переменная.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Взгляните <a href="./desc-centraltend.html#centraltend-rms">в&nbsp;предыдущую главу</a>. Как&nbsp;и&nbsp;было обещано, мы увиделись с&nbsp;одним из&nbsp;других средних.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Скопировано!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Скопировано!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./desc-centraltend.html" class="pagination-link" aria-label="Меры центральной тенденции">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Меры центральной тенденции</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./desc-normdist.html" class="pagination-link" aria-label="Нормальное распределение">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Нормальное распределение</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>